---
title: verifyHash
description: Verifies if a signed hash was generated by the provided address
---

Verify that a hash (digest) was signed by the provided address.

Supports verification of:
- **Externally Owned Accounts**
- **Smart Contract Accounts:**
  - **Deployed** (via [ERC-1271](https://eips.ethereum.org/EIPS/eip-1271))
  - **Pre-deployed** (via [ERC-6492](https://eips.ethereum.org/EIPS/eip-6492))

### Import

Import the public actions package so you can call this action.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `import "github.com/ChefBingbong/viem-go/actions/public"`,
      showLineNumbers: false
    }
  ]}
/>

### Usage

An example showing how to verify that a given hash and signature pair was produced by an address.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `import (
    "context"
    "log"

    "github.com/ethereum/go-ethereum/common"
    "github.com/ChefBingbong/viem-go/actions/public"
    "github.com/ChefBingbong/viem-go/client"
    "github.com/ChefBingbong/viem-go/client/transport"
    "github.com/ChefBingbong/viem-go/chain/definitions"
)

ctx := context.Background()

publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Chain:     definitions.Mainnet,
    Transport: transport.HTTP("https://eth.llamarpc.com"),
})
if err != nil {
    log.Fatal(err)
}
defer func() { _ = publicClient.Close() }()

valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:   common.HexToAddress("0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266"), // [!code focus]
    Hash:      "0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef", // [!code focus]
    Signature: "0x66edc32e2ab001213321ab7d959a2207fcef5190cc9abb6da5b0d2a8a9af2d4d2b0700e2c317c4106f337fd934fbbb0bf62efc8811a78603b33a8265d3b8f8cb1c", // [!code focus]
})
if err != nil {
    log.Fatal(err)
}
log.Printf("Valid: %v", valid)`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const valid = await publicClient.verifyHash({
  address: account.address,
  hash: '0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef',
  signature: '0x...',
})
// @log: true`,
      showLineNumbers: false
    }
  ]}
/>

### Returns

`bool`

Whether the signed hash is valid for the given address.

### Parameters

Configuration options accepted by this action.

### Address

- **Type:** `common.Address`
- **Required**

The Ethereum address that signed the original hash.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `import (
    "github.com/ethereum/go-ethereum/common"
    "github.com/ChefBingbong/viem-go/actions/public"
)

valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:   common.HexToAddress("0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266"), // [!code focus]
    Hash:      "0xdeadbeef...",
    Signature: "0x...",
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const valid = await publicClient.verifyHash({
  address: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266', // [!code focus]
  hash: '0xdeadbeef...',
  signature: '0x...',
})`,
      showLineNumbers: false
    }
  ]}
/>

### Hash

- **Type:** `string`
- **Required**

The 32-byte message hash that was signed (0x-prefixed hex).

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:   common.HexToAddress("0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266"),
    Hash:      "0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef", // [!code focus]
    Signature: "0x...",
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const valid = await publicClient.verifyHash({
  address: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266',
  hash: '0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef', // [!code focus]
  signature: '0x...',
})`,
      showLineNumbers: false
    }
  ]}
/>

### Signature

- **Type:** `any` (accepts `string`, `[]byte`, or `*signature.Signature`)
- **Required**

The signature that was generated by signing the hash with the address's signer.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:   common.HexToAddress("0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266"),
    Hash:      "0xdeadbeef...",
    Signature: "0x66edc32e2ab001213321ab7d959a2207fcef5190cc9abb6da5b0d2a8a9af2d4d2b0700e2c317c4106f337fd934fbbb0bf62efc8811a78603b33a8265d3b8f8cb1c", // [!code focus]
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const valid = await publicClient.verifyHash({
  address: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266',
  hash: '0xdeadbeef...',
  signature: '0x66edc32e2ab001213321ab7d959a2207fcef5190cc9abb6da5b0d2a8a9af2d4d2b0700e2c317c4106f337fd934fbbb0bf62efc8811a78603b33a8265d3b8f8cb1c', // [!code focus]
})`,
      showLineNumbers: false
    }
  ]}
/>

### BlockNumber

- **Type:** `*uint64`
- **Optional**

Only used when verifying a hash that was signed by a Smart Contract Account. The block number to check if the contract was already deployed.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `blockNum := uint64(42069)
valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:     common.HexToAddress("0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266"),
    Hash:        "0xdeadbeef...",
    Signature:   "0x...",
    BlockNumber: &blockNum, // [!code focus]
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const valid = await publicClient.verifyHash({
  blockNumber: 42069n, // [!code focus]
  address: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266',
  hash: '0xdeadbeef...',
  signature: '0x...',
})`,
      showLineNumbers: false
    }
  ]}
/>

### BlockTag

- **Type:** `BlockTag`
- **Default:** `"latest"`
- **Optional**

Only used when verifying a hash that was signed by a Smart Contract Account. The block tag to check if the contract was already deployed.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:  common.HexToAddress("0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266"),
    Hash:     "0xdeadbeef...",
    Signature: "0x...",
    BlockTag: public.BlockTagSafe, // [!code focus]
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const valid = await publicClient.verifyHash({
  blockTag: 'safe', // [!code focus]
  address: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266',
  hash: '0xdeadbeef...',
  signature: '0x...',
})`,
      showLineNumbers: false
    }
  ]}
/>

### Factory

- **Type:** `*common.Address`
- **Optional**

The ERC-4337 Account Factory address for counterfactual verification. Used with `FactoryData` for undeployed smart accounts.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `factoryAddr := common.HexToAddress("0x...")
valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:     common.HexToAddress("0x..."),
    Hash:        "0xdeadbeef...",
    Signature:   "0x...",
    Factory:     &factoryAddr, // [!code focus]
    FactoryData: factoryCalldata,
})`,
      showLineNumbers: false
    }
  ]}
/>

### FactoryData

- **Type:** `[]byte`
- **Optional**

The calldata to deploy the account via Factory. Used with `Factory` for undeployed smart accounts.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:     common.HexToAddress("0x..."),
    Hash:        "0xdeadbeef...",
    Signature:   "0x...",
    Factory:     &factoryAddr,
    FactoryData: factoryCalldata, // [!code focus]
})`,
      showLineNumbers: false
    }
  ]}
/>

### ERC6492VerifierAddress

- **Type:** `*common.Address`
- **Optional**

The address of a deployed ERC-6492 signature verifier contract. If provided, uses this contract instead of deployless verification.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `verifierAddr := common.HexToAddress("0x...")
valid, err := public.VerifyHash(ctx, publicClient, public.VerifyHashParameters{
    Address:                common.HexToAddress("0x..."),
    Hash:                   "0xdeadbeef...",
    Signature:              "0x...",
    ERC6492VerifierAddress: &verifierAddr, // [!code focus]
})`,
      showLineNumbers: false
    }
  ]}
/>

### JSON-RPC Method

Underlying JSON-RPC method used by this action.

Uses [`eth_call`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_call) to verify signatures onchain via ERC-1271 or ERC-6492.
