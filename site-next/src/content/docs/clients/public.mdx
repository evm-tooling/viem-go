---
title: Public Client
description: Read-only access to the Ethereum blockchain through standard JSON-RPC methods
---

A Public Client provides read-only access to the Ethereum blockchain through standard JSON-RPC methods like `eth_blockNumber`, `eth_getBalance`, `eth_call`, and more.

The `CreatePublicClient` function sets up a Public Client with a given [Transport](/docs/clients/transports/http/) and optional [Chain](/docs/clients/intro/).

### Import

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `import (
    "github.com/ChefBingbong/viem-go/client"
    "github.com/ChefBingbong/viem-go/client/transport"
    "github.com/ChefBingbong/viem-go/chain/definitions"
)`,
      showLineNumbers: false
    }
  ]}
/>

These are the most common imports for setting up a Public Client:

- **client**: Client constructors and types (e.g. `CreatePublicClient`, `PublicClientConfig`, `BlockTag*` constants).
- **transport**: Transport factories for JSON-RPC (e.g. `transport.HTTP(...)`, `transport.WebSocket(...)`).
- **definitions**: Prebuilt chain definitions (e.g. `definitions.Mainnet`). Optional, but recommended.

Import additional packages only when you need them:

- **common**: Address/hash helpers from go-ethereum (e.g. `common.HexToAddress("0x...")`).
- **public**: Public actions & watch parameter types (e.g. `public.WatchBlockNumberParameters`).

### Go notes

#### Closing the client

In viem-go, `publicClient.Close()` closes the underlying transport connection (especially important for WebSocket transports). It’s idiomatic to call it with `defer` right after successful construction.

#### Passing a context

Public Client methods and watch actions accept a `context.Context` as the first argument (e.g. `publicClient.GetBalance(ctx, ...)`, `publicClient.WatchBlockNumber(ctx, ...)`). Use it to cancel requests or to set timeouts with `context.WithTimeout`.

### Error handling

Most viem-go APIs return `(value, error)`. Always handle errors from `CreatePublicClient` and from each call.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `import (
    "context"
    "log"
    "time"

    "github.com/ChefBingbong/viem-go/client"
    "github.com/ChefBingbong/viem-go/client/transport"
    "github.com/ChefBingbong/viem-go/chain/definitions"
)

ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)
defer cancel()

publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Chain:     definitions.Mainnet,
    Transport: transport.HTTP("https://eth.llamarpc.com"),
})
if err != nil {
    log.Fatal(err)
}
defer func() { _ = publicClient.Close() }()

blockNumber, err := publicClient.GetBlockNumber(ctx)
if err != nil {
    log.Fatal(err)
}
_ = blockNumber`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  chain: mainnet,
  transport: http(),
})

const blockNumber = await publicClient.getBlockNumber()`,
      showLineNumbers: false
    }
  ]}
/>

### Usage

#### HTTP Transport (recommended)

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Chain:     definitions.Mainnet,
    Transport: transport.HTTP("https://eth.llamarpc.com"),
})
if err != nil {
    log.Fatal(err)
}
defer publicClient.Close()`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  chain: mainnet,
  transport: http(),
})`,
      showLineNumbers: false
    }
  ]}
/>

#### WebSocket Transport (subscriptions)

Watch actions will **poll** on HTTP transports and can use **subscriptions** when a WebSocket transport is configured. For details on WebSocket configuration, see [WebSocket Transport](/docs/clients/transports/websocket/).

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Chain:     definitions.Mainnet,
    Transport: transport.WebSocket("wss://eth.llamarpc.com"),
})
if err != nil {
    log.Fatal(err)
}
defer publicClient.Close()`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  chain: mainnet,
  transport: webSocket('wss://eth.llamarpc.com'),
})`,
      showLineNumbers: false
    }
  ]}
/>

<Aside type="tip">
<span>WebSocket transports enable real <code>eth_subscribe</code> subscriptions for watch actions, while HTTP transports fall back to polling. Prefer WebSocket for watch-heavy workloads to reduce latency and RPC calls.</span>
</Aside>

### Watch actions (brief)

The Public Client exposes watch helpers like `WatchBlockNumber` that stream events over a channel. Cancel the context to stop watching.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `ctx, cancel := context.WithCancel(context.Background())
defer cancel()

events := publicClient.WatchBlockNumber(ctx, public.WatchBlockNumberParameters{
    EmitOnBegin: true,
})

for event := range events {
    fmt.Println(event.BlockNumber)
}`,
      showLineNumbers: false
    }
  ]}
/>

### Parameters

### Transport

- **Type:** `transport.TransportFactory`
- **Required**

Transport factory for JSON-RPC calls. This parameter is required.

If your transport needs its own configuration, keep it in the transport constructor and refer to transport docs (e.g. [HTTP Transport](/docs/clients/transports/http/) or [WebSocket Transport](/docs/clients/transports/websocket/)).

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Chain:     definitions.Mainnet,
    Transport: transport.HTTP("https://eth.llamarpc.com"), // [!code focus]
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  chain: mainnet,
  transport: http(), // [!code focus]
})`,
      showLineNumbers: false
    }
  ]}
/>

### Chain

- **Type:** `*chain.Chain`
- **Optional**

The Chain configuration (e.g. `definitions.Mainnet`) for the Public Client.

This influences defaults like `PollingInterval` (based on block time) and is used by some actions for chain-aware behavior. See [Clients & Transports](/docs/clients/intro/).

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Chain:     definitions.Mainnet, // [!code focus]
    Transport: transport.HTTP("https://eth.llamarpc.com"),
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  chain: mainnet, // [!code focus]
  transport: http(),
})`,
      showLineNumbers: false
    }
  ]}
/>

### Batch

- **Type:** `*client.BatchOptions`
- **Optional**

Batch settings for the client (e.g. enabling multicall-style batching for some actions).

If you don’t need batching, omit this field.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Batch: &client.BatchOptions{ // [!code focus:3]
        Multicall: &client.MulticallBatchOptions{},
    },
    Chain:     definitions.Mainnet,
    Transport: transport.HTTP("https://eth.llamarpc.com"),
})`,
      showLineNumbers: false
    }
  ]}
/>

<Aside type="note">
<span>Multicall batching (action-level) is separate from transport-level JSON-RPC batching. Both can be used together -- multicall aggregates contract reads into one <code>eth_call</code>, while JSON-RPC batching combines multiple RPC requests into a single HTTP request.</span>
</Aside>

### PollingInterval

- **Type:** `time.Duration`
- **Default:** `min(max(chain.BlockTime/2, 500ms), 4s)` (defaults to `4s` when `Chain` is not provided)
- **Optional**

Frequency for polling-enabled behavior, including watch actions when not using subscriptions.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    PollingInterval: 10 * time.Second, // [!code focus]
    Chain:           definitions.Mainnet,
    Transport:       transport.HTTP("https://eth.llamarpc.com"),
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  pollingInterval: 10_000, // [!code focus]
  chain: mainnet,
  transport: http(),
})`,
      showLineNumbers: false
    }
  ]}
/>

### CacheTime

- **Type:** `time.Duration`
- **Default:** `PollingInterval`
- **Optional**

Time that cached data will remain in memory.

In viem-go, if `CacheTime` is not set, it defaults to the client `PollingInterval`.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    CacheTime:  10 * time.Second, // [!code focus]
    Chain:      definitions.Mainnet,
    Transport:  transport.HTTP("https://eth.llamarpc.com"),
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  cacheTime: 10_000, // [!code focus]
  chain: mainnet,
  transport: http(),
})`,
      showLineNumbers: false
    }
  ]}
/>

### ExperimentalBlockTag

- **Type:** `client.BlockTag`
- **Default:** `client.BlockTagLatest`
- **Optional**

Default block tag used by actions when you don’t pass an explicit block tag.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    ExperimentalBlockTag: client.BlockTagSafe, // [!code focus]
    Chain:                definitions.Mainnet,
    Transport:            transport.HTTP("https://eth.llamarpc.com"),
})`,
      showLineNumbers: false
    }
  ]}
/>

<Aside type="caution">
<span>Changing the default block tag to anything other than <code>latest</code> (e.g. <code>safe</code> or <code>finalized</code>) may cause unexpected behavior with certain RPC providers that don't fully support these tags. Test with your provider before deploying.</span>
</Aside>

### Key

- **Type:** `string`
- **Default:** `"public"`
- **Optional**

A key for the Client.

This is primarily useful when you have multiple clients in the same process and want a stable identifier for debugging, logging, or internal bookkeeping.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Key:       "foo", // [!code focus]
    Chain:     definitions.Mainnet,
    Transport: transport.HTTP("https://eth.llamarpc.com"),
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  key: 'foo', // [!code focus]
  chain: mainnet,
  transport: http(),
})`,
      showLineNumbers: false
    }
  ]}
/>

### Name

- **Type:** `string`
- **Default:** `"Public Client"`
- **Optional**

A human-readable name for the Client.

This is useful for debugging and for distinguishing multiple client instances in your application.

<CodeGroup
  tabs={[
    {
      title: "Go",
      language: "go",
      code: `publicClient, err := client.CreatePublicClient(client.PublicClientConfig{
    Name:      "Foo Public Client", // [!code focus]
    Chain:     definitions.Mainnet,
    Transport: transport.HTTP("https://eth.llamarpc.com"),
})`,
      showLineNumbers: false
    },
    {
      title: "viem",
      language: "ts",
      code: `const publicClient = createPublicClient({
  name: 'Foo Public Client', // [!code focus]
  chain: mainnet,
  transport: http(),
})`,
      showLineNumbers: false
    }
  ]}
/>

### Return Type

`CreatePublicClient` returns `(*PublicClient, error)`.
